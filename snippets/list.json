{
  "tpl-list": {
    "prefix": "tf-list",
    "body": [
      "<template>",
      "  <div class=\"m-page\">",
      "    <!-- 搜索部分 -->",
      "    <div class=\"m-search\">",
      "      <Form ref=\"searchForm\" :model=\"searchInfo\" :label-width=\"80\" inline>",
      "        <FormItem label=\"姓名\" prop=\"name\">",
      "          <Input style=\"width: 160px\" v-model=\"searchInfo.name\" placeholder=\"请输入\"></Input>",
      "        </FormItem>",
      "        <FormItem label=\"城市\" prop=\"city\">",
      "          <Select style=\"width: 160px\" v-model=\"searchInfo.city\" placeholder=\"请选择\">",
      "            <Option :value=\"1\">北京</Option>",
      "            <Option :value=\"2\">上海</Option>",
      "          </Select>",
      "        </FormItem>",
      "        <FormItem label=\"日期\" prop=\"date\">",
      "          <DatePicker type=\"date\" placeholder=\"Select date\" v-model=\"searchInfo.date\"></DatePicker>",
      "        </FormItem>",
      "        <FormItem>",
      "          <Button type=\"primary\" @click=\"handleUpdateTable(1)\">查询</Button>",
      "        </FormItem>",
      "      </Form>",
      "    </div>",
      "    <!-- 按钮组 -->",
      "    <div class=\"m-buttons\">",
      "      <Button class=\"button\" @click=\"exportData\">导出</Button>",
      "    </div>",
      "    <!-- 表格部分 -->",
      "    <div class=\"m-table\">",
      "      <Table",
      "        border",
      "        :columns=\"tableHead\"",
      "        :data=\"tableData\"",
      "        :loading=\"tableLoading\"",
      "        v-if=\"tableData.length > 0\"",
      "      >",
      "        <Spin slot=\"loading\" fix class=\"m-loading\">",
      "          <Icon type=\"load-c\" size=\"18\" class=\"spin-icon\"></Icon>",
      "          <div>Loading</div>",
      "        </Spin>",
      "        <template slot=\"handle\" slot-scope=\"{ row }\">",
      "          <Button type=\"text\" size=\"small\" icon=\"md-create\" class=\"fix-table-btn\" @click=\"handleEdit(row)\">编辑</Button>",
      "        </template>",
      "      </Table>",
      "      <Alert v-else>暂无数据</Alert>",
      "    </div>",
      "    <div class=\"m-page\">",
      "      <!-- 分页 -->",
      "      <Page",
      "        v-if=\"total > size\"",
      "        :total=\"total\"",
      "        :page-size=\"size\"",
      "        :current.sync=\"searchInfo.page\"",
      "        class-name=\"m-pagination\"",
      "        @on-change=\"handleUpdateTable\"",
      "        show-total",
      "        show-elevator",
      "      >共 {{total}} 条记录</Page>",
      "    </div>",
      "  </div>",
      "</template>",
      "\t",
      "<script lang=\"ts\">",
      "import Vue from 'vue'",
      "import { Component, Prop } from 'vue-property-decorator'",
      "\t",
      "// import { getList } from '@/api/xxx'",
      "\t",
      "@Component",
      "export default class PageComponent extends Vue {",
      "  $refs: any = {",
      "    searchForm: HTMLFormElement",
      "  }",
      "  searchInfo = {",
      "    name: '',",
      "    city: '',",
      "    date: '',",
      "    page: 1",
      "  }",
      "  tableHead = [",
      "    { title: '姓名', minWidth: 140, key: 'name', align: 'center' },",
      "    { title: '城市', minWidth: 140, key: 'city', align: 'center' },",
      "    { title: '操作', slot: 'handle', minWidth: 140, align: 'center' }",
      "  ]",
      "  tableData = [",
      "    {name: '哈哈', city: '北京'}",
      "  ]",
      "  tableLoading = false",
      "  total = 0",
      "  size = 10",
      "  searchLoading = false",
      "\t", 
      "  mounted() {",
      "    this.handleUpdateTable(1)",
      "  }",
      "\t", 
      "  handleUpdateTable(page: number) {",
      "    if (page) {",
      "      this.searchInfo.page = page",
      "    }",
      "    this._getList()",
      "  }",
      "\t",
      "  // 编辑",
      "  handleEdit() {}",
      "\t",
      "  // 导出",
      "  exportData() {}",
      "\t",
      "  // 获取列表数据",
      "  _getList() {",
      "    this.searchLoading = true",
      "    this.tableLoading = true",
      "    getList(this.searchInfo, (res: any) => {",
      "      if (+res.status === 0) {",
      "        if (res.data) {",
      "          this.tableData = res.data.list",
      "          this.total = +res.data.arrPager.count",
      "          this.size = +res.data.arrPager.size",
      "        } else {",
      "          this.tableData = []",
      "          this.total = 0",
      "          this.size = 0",
      "        }",
      "      }",
      "      this.searchLoading = false",
      "      this.tableLoading = false",
      "    })",
      "  }",
      "}",
      "</script>",
      "\t",
      "<style lang=\"scss\" scoped>",
      "  .m-page{",
      "    background: #fff;",
      "    overflow: hidden;",
      "    .m-search{",
      "      padding-top: 20px;",
      "    }",
      "    .m-buttons{",
      "      margin-bottom: 20px;",
      "    }",
      "  }",
      "</style>"
    ],
    "description": "列表页"
  }
}